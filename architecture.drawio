<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3" pages="5">
  <diagram id="C4-Context" name="Level 1 - System Context">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="SaaS Multi-Tenant Platform&#xa;&#xa;[Software System]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#083F75;strokeColor=#07315C;fontColor=#ffffff;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="280" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="3" value="Tenant Administrator&#xa;&#xa;[Person]" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#083F75;strokeColor=#07315C;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="120" y="320" width="40" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4" value="End User&#xa;&#xa;[Person]" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#083F75;strokeColor=#07315C;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="120" y="440" width="40" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5" value="System Administrator&#xa;&#xa;[Person]" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#083F75;strokeColor=#07315C;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="960" y="320" width="40" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Azure AD B2C&#xa;&#xa;[External System]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6C8EBF;strokeColor=#4A6FA5;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="920" y="460" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Stripe Billing&#xa;&#xa;[External System]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6C8EBF;strokeColor=#4A6FA5;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="180" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Email Service&#xa;&#xa;[External System]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6C8EBF;strokeColor=#4A6FA5;fontColor=#ffffff;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="120" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9" value="Manages tenants, users,&#xa;billing, and configuration" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="180" y="320" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Uses tenant-specific&#xa;features and data" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="180" y="440" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="11" value="Monitors system health,&#xa;performance, and security" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="820" y="320" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="12" value="Authenticates and&#xa;authorizes users" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="820" y="470" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="13" value="Processes subscription&#xa;payments and invoices" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="190" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="14" value="Sends notifications&#xa;and alerts" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="130" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="15" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="3" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="400" as="sourcePoint" />
            <mxPoint x="250" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="16" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="4" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="500" as="sourcePoint" />
            <mxPoint x="250" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="17" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="5" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="400" as="sourcePoint" />
            <mxPoint x="850" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="18" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="6" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="520" as="sourcePoint" />
            <mxPoint x="850" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="19" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="7" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="300" as="sourcePoint" />
            <mxPoint x="250" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="20" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="8" target="2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="240" as="sourcePoint" />
            <mxPoint x="550" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="21" value="System Context diagram for SaaS Multi-Tenant Platform." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=12;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="22" value="The SaaS Multi-Tenant Platform allows tenant administrators to manage their organizations, end users to access tenant-specific features, and integrates with external systems for authentication, billing, and communications." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="40" y="70" width="500" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C4-Containers" name="Level 2 - Containers">
    <mxGraphModel dx="2066" dy="1202" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="SaaS Multi-Tenant Platform&#xa;&#xa;[Software System]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="1080" height="720" as="geometry" />
        </mxCell>
        <mxCell id="3" value="Web Application&#xa;&#xa;[Container: SPA]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#4A90E2;strokeColor=#357ABD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="80" y="120" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="4" value="API Application&#xa;&#xa;[Container: .NET 8 Web API]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#4A90E2;strokeColor=#357ABD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="360" y="120" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="5" value="SQL Database&#xa;&#xa;[Container: SQL Server]" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#E74C3C;strokeColor=#C0392B;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="640" y="120" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Redis Cache&#xa;&#xa;[Container: Redis]" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#9B59B6;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="860" y="120" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Background Job Processor&#xa;&#xa;[Container: Hangfire]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#4A90E2;strokeColor=#357ABD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="360" y="280" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Event Bus&#xa;&#xa;[Container: Azure Event Grid]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F39C12;strokeColor=#E67E22;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="640" y="280" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="9" value="Monitoring &amp; Analytics&#xa;&#xa;[Container: Application Insights]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#16A085;strokeColor=#138D75;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="80" y="280" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Identity Provider&#xa;&#xa;[Container: Azure AD B2C]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F39C12;strokeColor=#E67E22;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="860" y="280" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="11" value="Email Service&#xa;&#xa;[Container: SendGrid]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F39C12;strokeColor=#E67E22;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="360" y="440" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="12" value="Billing Service&#xa;&#xa;[Container: Stripe API]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F39C12;strokeColor=#E67E22;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="640" y="440" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="13" value="React/Angular&#xa;Provides tenant-specific UI&#xa;Consumes REST API&#xa;Azure AD B2C integration" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="290" y="130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="14" value="RESTful API&#xa;CQRS with MediatR&#xa;JWT Authentication&#xa;Rate limiting, Feature flags" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="570" y="130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Multi-tenant data&#xa;Tenant isolation&#xa;Global query filters&#xa;EF Core ORM" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="830" y="130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="16" value="Distributed caching&#xa;Session management&#xa;Tenant-specific cache&#xa;Performance optimization" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="830" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="17" value="Background jobs&#xa;Recurring tasks&#xa;Job processing&#xa;Dashboard UI" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="570" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="18" value="Event publishing&#xa;Async communication&#xa;Domain events&#xa;Event handlers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="830" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="19" value="Telemetry data&#xa;Performance metrics&#xa;Error tracking&#xa;Log analytics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="290" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20" value="OAuth 2.0/OpenID&#xa;User authentication&#xa;Authorization tokens&#xa;User management" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="830" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="21" value="Email notifications&#xa;Welcome emails&#xa;Alerts and reports&#xa;Template-based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="570" y="450" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="22" value="Payment processing&#xa;Subscription management&#xa;Invoice generation&#xa;Customer data" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="830" y="450" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="23" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="3" target="4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="200" as="sourcePoint" />
            <mxPoint x="350" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="24" value="HTTPS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=8;" parent="2" vertex="1">
          <mxGeometry x="310" y="160" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="25" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="200" as="sourcePoint" />
            <mxPoint x="630" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="26" value="ADO.NET" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=8;" parent="2" vertex="1">
          <mxGeometry x="590" y="160" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="27" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="200" as="sourcePoint" />
            <mxPoint x="850" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="28" value="Redis" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=8;" parent="2" vertex="1">
          <mxGeometry x="760" y="160" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="29" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="250" as="sourcePoint" />
            <mxPoint x="530" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="30" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="350" as="sourcePoint" />
            <mxPoint x="630" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="350" as="sourcePoint" />
            <mxPoint x="270" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="32" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="4" target="10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="350" as="sourcePoint" />
            <mxPoint x="850" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="33" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="7" target="11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="410" as="sourcePoint" />
            <mxPoint x="530" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="34" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="7" target="12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="510" as="sourcePoint" />
            <mxPoint x="630" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35" value="Container diagram for SaaS Multi-Tenant Platform." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=12;fontStyle=2;" parent="2" vertex="1">
          <mxGeometry x="80" y="60" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="36" value="The SaaS platform consists of a web application, API, databases, and supporting services for authentication, messaging, monitoring, and billing." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="2" vertex="1">
          <mxGeometry x="80" y="580" width="500" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C4-Components" name="Level 3 - Components">
    <mxGraphModel dx="2066" dy="1202" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="API Application&#xa;&#xa;[Container: .NET 8 Web API]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="1080" height="720" as="geometry" />
        </mxCell>
        <mxCell id="3" value="API Controllers&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#5DADE2;strokeColor=#3498DB;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="80" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4" value="Tenant Middleware&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#5DADE2;strokeColor=#3498DB;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="280" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5" value="Authentication&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#5DADE2;strokeColor=#3498DB;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="480" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Rate Limiting&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#5DADE2;strokeColor=#3498DB;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="680" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Feature Management&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#5DADE2;strokeColor=#3498DB;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="880" y="100" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Application Layer&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#48C9B0;strokeColor=#16A085;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="80" y="220" width="460" height="180" as="geometry" />
        </mxCell>
        <mxCell id="9" value="Commands/Queries&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#52BE80;strokeColor=#27AE60;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="100" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Command/Query Handlers&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#52BE80;strokeColor=#27AE60;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="240" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="11" value="Validators&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#52BE80;strokeColor=#27AE60;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="380" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="12" value="Domain Layer&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#AF7AC5;strokeColor=#7D3C98;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="580" y="220" width="460" height="180" as="geometry" />
        </mxCell>
        <mxCell id="13" value="Entities&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BB8FCE;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="600" y="250" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="14" value="Value Objects&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BB8FCE;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="720" y="250" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Domain Services&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BB8FCE;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="840" y="250" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="16" value="Infrastructure Layer&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F5B7B1;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=11;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="80" y="440" width="960" height="240" as="geometry" />
        </mxCell>
        <mxCell id="17" value="EF Core DbContext&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="100" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="18" value="Redis Cache Service&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="240" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="19" value="Event Grid Service&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="380" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20" value="Hangfire Service&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="520" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="21" value="Billing Service&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="660" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="22" value="Email Service&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EC7063;strokeColor=#E74C3C;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="800" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="23" value="External Integrations&#xa;&#xa;[Component]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F8C471;strokeColor=#F39C12;fontColor=#ffffff;fontSize=10;fontStyle=1" parent="2" vertex="1">
          <mxGeometry x="100" y="560" width="880" height="80" as="geometry" />
        </mxCell>
        <mxCell id="24" value="SQL Server | Redis | Azure Event Grid | Azure AD B2C | Stripe | SendGrid | Application Insights" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=10;" parent="2" vertex="1">
          <mxGeometry x="120" y="580" width="840" height="40" as="geometry" />
        </mxCell>
        <mxCell id="25" value="REST endpoints&#xa;Tenant management&#xa;User operations" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="100" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="26" value="Tenant resolution&#xa;Request isolation&#xa;Data filtering" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="300" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="27" value="JWT validation&#xa;Authorization&#xa;Token management" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="500" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="28" value="Per-tenant limits&#xa;Request throttling&#xa;DDoS protection" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="700" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="29" value="Feature toggles&#xa;Dynamic configuration&#xa;A/B testing" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="900" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="30" value="CQRS Pattern&#xa;MediatR pipeline&#xa;Business logic" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="280" y="240" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="31" value="Domain model&#xa;Business rules&#xa;Core entities" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="780" y="240" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="32" value="External services&#xa;Data persistence&#xa;Third-party APIs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontSize=9;" parent="2" vertex="1">
          <mxGeometry x="480" y="540" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="33" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="3" target="8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="200" as="sourcePoint" />
            <mxPoint x="250" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="34" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="8" target="12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="350" as="sourcePoint" />
            <mxPoint x="400" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="12" target="16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="450" as="sourcePoint" />
            <mxPoint x="700" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="36" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="2" source="16" target="23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="600" as="sourcePoint" />
            <mxPoint x="600" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="37" value="Component diagram for API Application." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=12;fontStyle=2;" parent="2" vertex="1">
          <mxGeometry x="80" y="60" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="38" value="The API Application follows Clean Architecture with controllers, middleware, application layer, domain layer, and infrastructure components." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="2" vertex="1">
          <mxGeometry x="80" y="690" width="500" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Tenant-Provisioning-Activity" name="Activity - Tenant Provisioning">
    <mxGraphModel dx="2066" dy="1202" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="Start:&#xa;Admin Request" style="ellipse;whiteSpace=wrap;html=1;fillColor=#27AE60;strokeColor=#229954;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="40" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3" value="Validate&#xa;Request" style="rhombus;whiteSpace=wrap;html=1;fillColor=#F39C12;strokeColor=#E67E22;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="380" y="160" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="4" value="Create Tenant&#xa;in Database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="300" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5" value="Provision&#xa;Azure Resources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="420" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Setup&#xa;Billing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="540" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Send&#xa;Welcome Email" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="200" y="540" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Publish Tenant&#xa;Created Event" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9B59B6;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="600" y="540" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9" value="End:&#xa;Tenant Ready" style="ellipse;whiteSpace=wrap;html=1;fillColor=#27AE60;strokeColor=#229954;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="660" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Error:&#xa;Invalid Data" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E74C3C;strokeColor=#C0392B;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="700" y="170" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="11" value="Valid?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="190" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="12" value="No" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="620" y="190" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="13" value="Yes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="430" y="270" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="14" value="SQL Database&#xa;Tenant Record&#xa;Unique ID" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Azure Bicep&#xa;Resource Group&#xa;App Service" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="16" value="Stripe API&#xa;Customer&#xa;Subscription" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="17" value="SendGrid&#xa;Template&#xa;Credentials" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="18" value="Event Grid&#xa;Async Handlers&#xa;Notifications" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="760" y="550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="19" value="Async" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=9;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="750" y="560" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="20" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="2" target="3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="150" as="sourcePoint" />
            <mxPoint x="520" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="21" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="3" target="4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="280" as="sourcePoint" />
            <mxPoint x="520" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="22" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="3" target="10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="230" as="sourcePoint" />
            <mxPoint x="690" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="23" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="4" target="5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="400" as="sourcePoint" />
            <mxPoint x="520" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="24" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="5" target="6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="520" as="sourcePoint" />
            <mxPoint x="520" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="25" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="6" target="7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="600" as="sourcePoint" />
            <mxPoint x="330" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="26" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="6" target="8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="600" as="sourcePoint" />
            <mxPoint x="610" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="27" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="7" target="9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="640" as="sourcePoint" />
            <mxPoint x="340" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="28" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="8" target="9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="640" as="sourcePoint" />
            <mxPoint x="520" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="29" value="Tenant Provisioning Activity Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=14;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="40" y="20" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="30" value="Shows the complete tenant provisioning workflow from admin request to tenant readiness, including validation, resource provisioning, billing setup, and notifications." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="760" width="600" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="User-Request-Activity" name="Activity - User Request Flow">
    <mxGraphModel dx="2066" dy="1202" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="Start:&#xa;User Request" style="ellipse;whiteSpace=wrap;html=1;fillColor=#27AE60;strokeColor=#229954;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="40" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3" value="Extract&#xa;Tenant ID" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="160" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4" value="Validate&#xa;JWT Token" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="280" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5" value="Check&#xa;Rate Limits" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="400" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Apply&#xa;Feature Flags" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="520" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Process&#xa;Request" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="640" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Cache Check" style="rhombus;whiteSpace=wrap;html=1;fillColor=#9B59B6;strokeColor=#8E44AD;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="120" y="650" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="9" value="Database&#xa;Query" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E74C3C;strokeColor=#C0392B;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="120" y="500" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Apply Tenant&#xa;Filter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498DB;strokeColor=#2980B9;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="760" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="11" value="Log&#xa;Telemetry" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#16A085;strokeColor=#138D75;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="680" y="640" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="12" value="End:&#xa;Return Response" style="ellipse;whiteSpace=wrap;html=1;fillColor=#27AE60;strokeColor=#229954;fontColor=#ffffff;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="880" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="13" value="From Header/Token" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="14" value="Azure AD B2C" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Redis" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="16" value="App Configuration" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="17" value="EF Core&#xa;Global Filter&#xa;WHERE TenantId = X" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="770" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="18" value="Cache Hit?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="680" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="19" value="Yes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="280" y="680" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="20" value="No" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="190" y="620" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="21" value="App Insights" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="840" y="650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="22" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="2" target="3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="150" as="sourcePoint" />
            <mxPoint x="520" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="23" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="3" target="4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="270" as="sourcePoint" />
            <mxPoint x="520" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="24" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="4" target="5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="390" as="sourcePoint" />
            <mxPoint x="520" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="25" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="5" target="6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="510" as="sourcePoint" />
            <mxPoint x="520" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="26" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="6" target="7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="630" as="sourcePoint" />
            <mxPoint x="520" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="27" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="7" target="8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="720" as="sourcePoint" />
            <mxPoint x="250" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="28" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="7" target="11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="720" as="sourcePoint" />
            <mxPoint x="680" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="29" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="7" target="10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="750" as="sourcePoint" />
            <mxPoint x="520" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="30" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="10" target="12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="870" as="sourcePoint" />
            <mxPoint x="520" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="8" target="7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="720" as="sourcePoint" />
            <mxPoint x="330" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="32" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="9" target="10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="210" y="810" as="sourcePoint" />
            <mxPoint x="260" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="33" value="" style="endArrow=block;endSize=16;endFill=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;fontSize=9;" parent="1" source="8" target="9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="190" y="770" as="sourcePoint" />
            <mxPoint x="240" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="34" value="User Request Flow Activity Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=14;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="40" y="20" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="35" value="Illustrates the complete request processing pipeline including tenant resolution, authentication, rate limiting, feature flags, caching, and data filtering." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="980" width="600" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
